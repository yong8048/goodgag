Index: app/src/main/java/com/example/goodgag/activity/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.goodgag.activity\r\n\r\nimport android.content.Intent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.MenuItem\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.ListAdapter\r\nimport android.widget.PopupMenu\r\nimport android.widget.Toast\r\nimport com.example.goodgag.adapter.MainListAdapter\r\nimport com.example.goodgag.Post\r\nimport com.example.goodgag.R\r\nimport com.example.goodgag.user.UserManager\r\nimport com.google.android.gms.tasks.OnCompleteListener\r\nimport com.google.firebase.messaging.FirebaseMessaging\r\nimport kotlinx.android.synthetic.main.activity_main.*\r\n\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    var postList = arrayListOf<Post>(\r\n        Post(\"1\", \"이승용\", \"2022.123\"),\r\n        Post(\"2\", \"오근혁\", \"2022./23\"),\r\n        Post(\"3\", \"조명철\", \"2022.123\"),\r\n        Post(\"4\", \"오근혁\", \"2022./23\"),\r\n        Post(\"5\", \"조명철\", \"2022.123\"),\r\n        Post(\"6\", \"오근혁\", \"2022./23\"),\r\n        Post(\"7\", \"조명철\", \"2022.123\"),\r\n        Post(\"8\", \"오근혁\", \"2022./23\"),\r\n        Post(\"9\", \"조명철\", \"2022.123\"),\r\n        Post(\"10\", \"조명철\", \"2022./23\"),\r\n        Post(\"11\", \"조명철\", \"2022.123\"),\r\n        Post(\"12\", \"조명철\", \"2022./23\"),\r\n        Post(\"13\", \"이승용\", \"2022.123\"),\r\n        Post(\"14\", \"이병욱\", \"2022./23\"),\r\n        Post(\"15\", \"이승용\", \"2022.123\"),\r\n        Post(\"16\", \"이병욱\", \"2022./23\"),\r\n        Post(\"17\", \"이승용\", \"2022.123\"),\r\n        Post(\"18\", \"이병욱\", \"2022./23\"),\r\n        Post(\"19\", \"이승용\", \"2022.123\"),\r\n        Post(\"20\", \"이병욱\", \"2022./23\"),\r\n        Post(\"21\", \"이승용\", \"2022.123\"),\r\n        Post(\"22\", \"이병욱\", \"2022./23\"),\r\n        Post(\"1\", \"이승용\", \"2022.123\"),\r\n        Post(\"2\", \"오근혁\", \"2022./23\"),\r\n        Post(\"3\", \"조명철\", \"2022.123\"),\r\n        Post(\"4\", \"오근혁\", \"2022./23\"),\r\n        Post(\"5\", \"조명철\", \"2022.123\"),\r\n        Post(\"6\", \"오근혁\", \"2022./23\"),\r\n        Post(\"7\", \"조명철\", \"2022.123\"),\r\n        Post(\"8\", \"오근혁\", \"2022./23\"),\r\n        Post(\"9\", \"조명철\", \"2022.123\"),\r\n        Post(\"10\", \"조명철\", \"2022./23\"),\r\n        Post(\"11\", \"조명철\", \"2022.123\"),\r\n        Post(\"12\", \"조명철\", \"2022./23\"),\r\n        Post(\"13\", \"이승용\", \"2022.123\"),\r\n        Post(\"14\", \"이병욱\", \"2022./23\"),\r\n        Post(\"15\", \"이승용\", \"2022.123\"),\r\n        Post(\"16\", \"이병욱\", \"2022./23\"),\r\n        Post(\"17\", \"이승용\", \"2022.123\"),\r\n        Post(\"18\", \"이병욱\", \"2022./23\"),\r\n        Post(\"19\", \"이승용\", \"2022.123\"),\r\n        Post(\"20\", \"이병욱\", \"2022./23\"),\r\n        Post(\"21\", \"이승용\", \"2022.123\"),\r\n        Post(\"22\", \"이병욱\", \"2022./23\")\r\n    )\r\n    var b : Boolean = true\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        //토큰값 가져오기 -> 새기기 or 앱삭제 재설치 or 앱 데이터 소거시 토큰 초기화\r\n        GetToken()\r\n\r\n        lv_main.adapter = MainListAdapter(this, postList)\r\n        //f\r\n        ListViewHeightSize()\r\n\r\n        btnListNext.setSingleLine()\r\n        //////////////////////////////////////// 상단 새로고침\r\n        tv_Main.setOnClickListener { Click_Refresh(it) }\r\n\r\n\r\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////하단바 클릭 이벤트\r\n        //////////////////////////////////////// btnSettings 클릭\r\n        btnSettings.setOnClickListener { Click_btnSettings(it) }\r\n\r\n        //////////////////////////////////////// btnShare 클릭\r\n        btnShare.setOnClickListener { Click_btnShare(it)  }\r\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////하단바 클릭 이벤트\r\n\r\n        btnBefore.setOnClickListener{\r\n            //20220623 LBW SingleTone Test\r\n            Log.e(\"SEX\",\"${UserManager.getinstance(this).Email}\")\r\n            Log.e(\"SEX\",\"${UserManager.getinstance(this).Name}\")\r\n            Log.e(\"SEX\",\"${UserManager.getinstance(this).Nickname}\")\r\n            Log.e(\"SEX\",\"${UserManager.getinstance(this).Phonenumber}\")\r\n            Log.e(\"SEX\",\"${UserManager.getinstance(this).Birthday}\")\r\n        }\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n\r\n    }\r\n    private fun Click_btnSettings(view: View){\r\n        var menuOption = PopupMenu(applicationContext, view)\r\n        menuInflater?.inflate(R.menu.menu_option, menuOption.menu)\r\n        menuOption.show()\r\n\r\n        //////////////////////////////////////// menuOption 클릭\r\n        menuOption.setOnMenuItemClickListener {\r\n            return@setOnMenuItemClickListener Click_MenuOption(it)\r\n        }\r\n    }\r\n    private fun Click_MenuOption(menuItem: MenuItem) : Boolean{\r\n        when (menuItem.itemId) {\r\n            R.id.option_Search -> {\r\n                return true\r\n            }\r\n            R.id.option_Download -> {\r\n                return true\r\n            }\r\n            R.id.option_History -> {\r\n                return true\r\n            }\r\n            R.id.option_Bookmark -> {\r\n                return true\r\n            }\r\n            R.id.option_Mycomment -> {\r\n                return true\r\n            }\r\n            R.id.option_Setting -> {\r\n                startActivity(Intent(this,SettingsActivity::class.java))\r\n                return true\r\n            }\r\n            else -> {\r\n                return false\r\n            }\r\n        }\r\n    }\r\n    private fun Click_btnShare(view: View){\r\n        var menuShare = PopupMenu(applicationContext, view)\r\n        menuInflater?.inflate(R.menu.menu_share, menuShare.menu)\r\n        menuShare.show()\r\n    }\r\n\r\n    private fun GetToken(){\r\n        FirebaseMessaging.getInstance().token\r\n            .addOnCompleteListener(OnCompleteListener {\r\n                if (!it.isSuccessful) {\r\n                    Log.d(\"FCM Log\", \"getInstanceId failed\", it.exception)\r\n                    return@OnCompleteListener\r\n                }\r\n                val token : String = it.result\r\n                Log.d(\"FCM Log\", \"FCM 토큰: $token\")\r\n                Toast.makeText(this@MainActivity, token, Toast.LENGTH_SHORT).show()\r\n            })\r\n    }\r\n\r\n    private fun Click_Refresh(view : View){\r\n\r\n    }\r\n\r\n    private fun ListViewHeightSize(){\r\n        var listAdapter : ListAdapter = lv_main.adapter\r\n        var totalHeight: Int = 0\r\n        var desiredWidth: Int = View.MeasureSpec.makeMeasureSpec(lv_main.width, View.MeasureSpec.AT_MOST)\r\n        for (i in 0 until listAdapter.count) {\r\n            var listItem: View = listAdapter.getView(i, null, lv_main);\r\n            lv_main.measure(desiredWidth, View.MeasureSpec.UNSPECIFIED)\r\n            totalHeight += lv_main.measuredHeight\r\n        }\r\n        var params :ViewGroup.LayoutParams = lv_main.layoutParams\r\n\r\n        params.height = totalHeight / 2\r\n        lv_main.layoutParams = params\r\n\r\n        lv_main.requestLayout()\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/goodgag/activity/MainActivity.kt b/app/src/main/java/com/example/goodgag/activity/MainActivity.kt
--- a/app/src/main/java/com/example/goodgag/activity/MainActivity.kt	(revision 791818a80b34a55b93223c5fcdeeaf1b20a45793)
+++ b/app/src/main/java/com/example/goodgag/activity/MainActivity.kt	(date 1656047060391)
@@ -90,6 +90,7 @@
 
         //////////////////////////////////////// btnShare 클릭
         btnShare.setOnClickListener { Click_btnShare(it)  }
+
         ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////하단바 클릭 이벤트
 
         btnBefore.setOnClickListener{
